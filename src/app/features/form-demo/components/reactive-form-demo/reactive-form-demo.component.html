<div class="jumbotron text-center">
    <h1 class="display-5">
      Angular Reactive Forms Tutorial
    </h1>
  </div>
  
  <div class="container">
    <div class="row custom-wrapper">
      <div class="col-md-12">
  
        <!-- Form starts -->
        <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
  
          <div class="group-gap">
  
            <!-- First name -->
            <div>
              <div class="mb-3">
                <label [ngClass]="{'error': submitted && registrationForm.get('firstName')?.errors}">
                  First name</label>
                <input type="text" class="form-control" formControlName="firstName" [ngClass]="{'error': submitted && registrationForm.get('firstName')?.errors}">
                <!-- error block -->
                <div class="invalid-feedback" *ngIf="submitted && registrationForm.get('firstName')?.errors?.['required']">
                  <sup>*</sup>Enter your name
                </div>
                <div class="invalid-feedback" *ngIf="submitted && registrationForm.get('firstName')?.errors?.['minlength']">
                  <sup>*</sup>Name must be 2 characters long
                </div>
                <div class="invalid-feedback" *ngIf="submitted && registrationForm.get('firstName')?.errors?.['pattern']">
                  <sup>*</sup>No special charcter allowed
                </div>
              </div>

              <!-- Last name -->
  
              <div class="mb-3">
                <label [ngClass]="{'error': submitted && registrationForm.get('lastName')?.errors}">
                  Last name</label>
                <input type="text" class="form-control" formControlName="lastName" [ngClass]="{'error': submitted && registrationForm.get('lastName')?.errors}">
                <!-- error block -->
                <div class="invalid-feedback" *ngIf="submitted && registrationForm.get('lastName')?.errors?.['required']">
                  <sup>*</sup>Please enter your surname
                </div>
              </div>
            </div>
  
            <!-- Email -->
            <div class="mb-3">
              <label [ngClass]="{'error': submitted && registrationForm.get('email')?.errors}">Email</label>
              <input type="email" class="form-control" formControlName="email" [ngClass]="{'error': submitted && registrationForm.get('email')?.errors}">
  
              <!-- error block -->
              <div class="invalid-feedback" *ngIf="submitted && registrationForm.get('email')?.errors?.['required']">
                <sup>*</sup>Please enter your email
              </div>
              <div class="invalid-feedback" *ngIf="submitted && registrationForm.get('email')?.errors?.['pattern']">
                <sup>*</sup>Please enter valid email
              </div>
            </div>
  
            <!-- Phone number -->
            <div class="mb-3">
              <label [ngClass]="{'error': submitted && registrationForm.get('phoneNumber')?.errors}">Phone Number</label>
              <input type="text" class="form-control" formControlName="phoneNumber" [ngClass]="{'error': submitted && registrationForm.get('phoneNumber')?.errors}">
  
              <!-- error block -->
              <div class="invalid-feedback" *ngIf="submitted && registrationForm.get('phoneNumber')?.errors?.['maxLength']">
                <sup>*</sup>Phone number must be 10 digit long
              </div>
              <div class="invalid-feedback" *ngIf="submitted && registrationForm.get('phoneNumber')?.errors?.['required']">
                <sup>*</sup>Please enter your phone number
              </div>
              <div class="invalid-feedback" *ngIf="submitted && registrationForm.get('phoneNumber')?.errors?.['pattern']">
                <sup>*</sup>Please enter valid phone number
              </div>
            </div>
          </div>
  
          <!-- Address -->
          <div class="group-gap" formGroupName="address">
            <h5 class="mb-3">Address</h5>
            <div class="mb-3">
              <label [ngClass]="{'error': submitted && addressForm?.get('street')?.errors}">Street</label>
              <input type="text" class="form-control" formControlName="street" [ngClass]="{'error': submitted && addressForm?.get('street')?.errors}">
  
              <!-- error block -->
              <div class="invalid-feedback" *ngIf="submitted && addressForm?.get('street')?.errors?.['required']">
                <sup>*</sup>Please enter your street
              </div>
            </div>
  
            <div class="mb-3">
              <label [ngClass]="{'error': submitted && addressForm?.get('city')?.errors}">City</label>
              <input type="text" class="form-control" formControlName="city" [ngClass]="{'error': submitted && addressForm?.get('city')?.errors}">
  
              <!-- error block -->
              <div class="invalid-feedback" *ngIf="submitted && addressForm?.get('city')?.errors?.['required']">
                <sup>*</sup>Please enter your street
              </div>
            </div>
  
            <div class="mb-3">
              <label [ngClass]="{'error': submitted && addressForm?.get('cityName')?.errors}">State</label>
              <select class="custom-select d-block w-100" (change)="changeCity($event)" formControlName="cityName"
                [ngClass]="{'error': submitted && addressForm?.get('cityName')?.errors}">
                <option value="">Choose...</option>
                <option *ngFor="let city of cities" [ngValue]="city">{{city}}</option>
              </select>
  
              <!-- error block -->
              <div class="invalid-feedback" *ngIf="submitted && addressForm?.get('cityName')?.errors?.['required']">
                <sup>*</sup>Please enter your city name
              </div>
            </div>
          </div>
  
          <!-- Gender -->
          <div class="group-gap">
            <h5 class="mb-3">Gender</h5>
            <div class="d-block my-3">
              <div class="custom-control custom-radio">
                <input id="male" type="radio" class="custom-control-input" name="gender" formControlName="gender" value="male"
                  checked>
                <label class="custom-control-label" for="male">Male</label>
              </div>
  
              <div class="custom-control custom-radio">
                <input id="female" type="radio" class="custom-control-input" name="gender" formControlName="gender" value="female">
                <label class="custom-control-label" for="female">Female</label>
              </div>
            </div>
          </div>
  
          <!-- Password -->
          <div>
            <div class="group-gap" formGroupName="passwordGroup">
              <div class="mb-3">
                <label [ngClass]="{'error': submitted && passWordGroupForm?.get('password')?.errors}">Password</label>
                <input type="password" class="form-control" formControlName="password" [ngClass]="{'error': submitted && passWordGroupForm?.get('password')?.errors}">
  
                <!-- error block -->
                <div class="invalid-feedback" *ngIf="submitted && passWordGroupForm?.get('password')?.errors">
                  <sup>*</sup>Please enter password
                </div>
              </div>
  
              <div class="mb-3">
                <label [ngClass]="{'error': submitted && passWordGroupForm?.get('confirmPassword')?.errors}">Confirm
                  Password</label>
                <input type="password" class="form-control" formControlName="confirmPassword" [ngClass]="{'error': submitted && passWordGroupForm?.get('confirmPassword')?.errors}">
              </div>
  
              <!-- error block -->
              <div class="invalid-feedback" *ngIf="submitted && passWordGroupForm?.get('confirmPassword')?.errors?.['required']">
                <sup>*</sup>Enter confirm Password
              </div>

              <div class="invalid-feedback" *ngIf="submitted && passWordGroupForm?.get('confirmPassword')?.errors?.['MatchPassword']">
                <sup>*</sup>Password Mismatch
              </div>
            </div>
          </div>
  
          <!-- Add Hobbies Dynamically-->
          <div class="group-gap" formArrayName="hobbies">
            <h5 class="mb-3">Add Hobbies</h5>
            <div class="mb-3">
              <button type="button" class="btn btn-sm btn-success mb-3 btn-block" (click)="addHobbies()">Add Hobby</button>
              <ul class="subjectList">
                <li *ngFor="let item of Userhobbies.controls; let i = index">
                  <input type="text" class="form-control" [formControlName]="i">
                </li>
              </ul>
            </div>
  
            <!-- Submit Button -->
            <button type="submit" class="btn btn-danger btn-lg btn-block">Register</button>
          </div>
  
        </form><!-- Form ends -->
  
      </div>
    </div>
  </div>
  